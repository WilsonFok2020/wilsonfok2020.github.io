<!DOCTYPE html> <html lang=" en "><head> <meta charset="utf-8"> <title>Wilson Fok - A data science enthusiast</title> <meta http-equip="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Gaussian Splatting - Camera Poses" /> <meta name="keywords" content="Gaussian Splatting - Camera Poses, Wilson Fok, Deep_Learning" /> <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"> <meta content="" property="fb:app_id"> <meta content="Wilson Fok" property="og:site_name"> <meta content="Gaussian Splatting - Camera Poses" property="og:title"> <meta content="article" property="og:type"> <meta content="This series of articles explores Gaussian Splatting and Neural Radiance Fields (NeRF) for 3D scene reconstruction using C-arm X-ray machine videos. It details capturing video, extracting frames, sparse reconstruction with COLMAP, and training Gaussian Splatting models for real-time, photorealistic 3D rendering. The author shares practical setup challenges, evaluation metrics (SSIM, PSNR, LPIPS), visualization with Splatviz, and mesh extraction for use in Blender and Unity." property="og:description"> <meta content="/deep_learning/2025/08/12/GaussianSplatting_camera_poses/" property="og:url"> <meta content="2025-08-12T00:00:00+08:00" property="article:published_time"> <meta content="/about/" property="article:author"> <meta content="/assets/img/posts//assets/images/gaussianSplatting/cover.avif" property="og:image"> <meta content="Deep_Learning" property="article:section"> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@"> <meta name="twitter:creator" content="@"> <meta name="twitter:title" content="Gaussian Splatting - Camera Poses"> <meta content="Wilson Fok" property="og:site_name"> <meta name="twitter:url" content="/deep_learning/2025/08/12/GaussianSplatting_camera_poses/"> <meta name="twitter:description" content="Hello, My name is Wilson Fok. I love to extract useful insights and knowledge from big data. I also like to make new friends and connections. Let's connect! "> <!-- load layout style css --> <link rel="stylesheet" href="/assets/css/main.css" /> <link rel="stylesheet" href="/assets/css/custom-style.css" /> <link rel="stylesheet" href="/assets/bower_components/lightgallery/dist/css/lightgallery.min.css"/> <link rel="stylesheet" href="/assets/bower_components/bootstrap/dist/css/bootstrap.min.css" /> <link rel="stylesheet" href="/assets/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css" /> <!-- Favicon --> <link rel="icon" href="/assets/img/favicon.ico" type="image/gif" sizes="16x16"> <!-- Jquery --> <!-- one or more of the below scripts does fancy word animation and dropdown menu --> <script src="/assets/extra_js/jquery-3.4.1.min.js"></script> <script src="/assets/extra_js/picturefill min/picturefill.min.js"></script> <script src="/assets/extra_js/instantsearch min/instantsearch.min.js"></script> <script src="/assets/extra_js/moment min/moment.min.js"></script> <script src="/assets/bower_components/jquery.easing/jquery.easing.min.js"></script> <script src="/assets/bower_components/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <script src="/assets/bower_components/jquery-mousewheel/jquery.mousewheel.min.js"></script> <script src="/assets/bower_components/lightgallery/dist/js/lightgallery-all.min.js"></script> <script src="/assets/bower_components/imagesloaded/imagesloaded.pkgd.min.js"></script> <script src="/assets/bower_components/nanobar/nanobar.min.js"></script> <script src="/assets/bower_components/typewrite/dist/typewrite.min.js"></script> <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> </head><body> <div class="container-fluid"><header> <script src="https://cdn.knightlab.com/libs/juxtapose/latest/js/juxtapose.min.js"></script> <link rel="stylesheet" href="https://cdn.knightlab.com/libs/juxtapose/latest/css/juxtapose.css"> <div class="col-lg-12"> <div class="row"> <nav class="navbar navbar-expand-lg fixed-top navbar-dark " id="topNav"> <!-- <a class="navbar-brand" href="#">Wilson Fok</a> --> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="/">Wilson Fok</a> <div class="collapse navbar-collapse" id="navbarNav"> <ul class="navbar-nav"> <li class="nav-item"> <a class="nav-link" href="/about">About Me</a> </li> <li class="nav-item"> <a class="nav-link" href="/blog">Blog</a> </li> <li class="nav-item"> <a class="nav-link" href="/blog/categories">Categories</a> </li> <li class="nav-item"> <a class="nav-link" href="/gallery">Gallery</a> </li> <li class="nav-item"> <a class="nav-link" href="/contact">Contact Me</a> </li> </ul> </div> <ul class="nav justify-content-end"> <!-- <li class="nav-item"> <a class="nav-link" id="search-icon" href="/search/"><i class="fa fa-search" aria-hidden="true"></i></a> </li> --> <li class="nav-item"> <input class="nav-link switch" id="theme-toggle" onclick="modeSwitcher() "type="checkbox" name="checkbox" > </li> </ul> </nav> </div> </div> </header><div class="col-lg-12"> <!-- Blog Post Breadcrumbs --><div class="col-lg-12"> <nav aria-label="breadcrumb" role="navigation"> <ol class="breadcrumb"> <li class="breadcrumb-item"> <a href="/blog"><i class="fa fa-home" aria-hidden="true"></i></a> </li> <li class="breadcrumb-item active" aria-current="page"><a href="/deep_learning/2025/08/12/GaussianSplatting_camera_poses/">Gaussian Splatting - Camera Poses</a></li> </ol> </nav> </div><div class="row" id="blog-post-container"> <div class="col-lg-8 offset-md-2"><article class="card" itemscope itemtype="http://schema.org/BlogPosting"> <div class="card-header"> <h1 class="post-title" itemprop="name headline">Gaussian Splatting - Camera Poses</h1> <p></p> <h6 class="post-meta"> <i> Summary : This series of articles explores Gaussian Splatting and Neural Radiance Fields (NeRF) for 3D scene reconstruction using C-arm X-ray machine videos. It details capturing video, extracting frames, sparse reconstruction with COLMAP, and training Gaussian Splatting models for real-time, photorealistic 3D rendering. The author shares practical setup challenges, evaluation metrics (SSIM, PSNR, LPIPS), visualization with Splatviz, and mesh extraction for use in Blender and Unity.</i> </h6> <p class="post-summary">Posted by : <img src="/assets/img/profile.png" class="author-profile-img"> <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">Wilson Fok</span> </span> on <time datetime="2025-08-12 00:00:00 +0800" itemprop="datePublished">Aug 12, 2025</time> </p> <span class="disqus-comment-count" data-disqus-identifier="/deep_learning/2025/08/12/GaussianSplatting_camera_poses/"></span> <div class="post-categories"> Category : <a href="/blog/categories/Deep_Learning">Deep_Learning</a> </div> </div> <div class="card-body" itemprop="articleBody"> <h1 id="my-experiment">My Experiment</h1> <p>To gain a better understanding of this technology, I deployed the entire technology stack on a gaming laptop and worked out the details.</p> <h2 id="methods">Methods</h2> <p>We need to capture a video of the target that shows all its relevant parts. For this experiment, I recorded two C-arm videos: one in the anterior-posterior view and another in the medial-lateral view. It took a few attempts before I succeeded, and there are some useful tips for capturing these videos.</p> <h2 id="recording-a-high-quality-video-for-reconstruction">Recording a High-Quality Video for Reconstruction</h2> <p>The surface of the C-arm is quite plain and lacks distinct features and color. This often causes problems when running sparse image reconstruction algorithms to estimate the camera’s poses, as the images lack sufficient features for matching.</p> <p>To mitigate (though not completely eliminate) this issue, I placed “signposts” — objects that are easy to match and contain many visual features — around the C-arm. These included a keyboard, a colored tag, and a piece of paper with multiple printed icons and logos (see my results for details).</p> <p>The video quality should be high—for example, 1080x1920 resolution at 30 frames per second. This quality is sufficient for this experiment, although many modern smartphones can capture videos at much higher resolutions, so a smartphone would also suffice.</p> <p>A basic prerequisite for this work is obtaining fairly accurate camera poses and camera properties. The smartphone camera can be modeled as a pinhole camera, which is supported by many neural radiance field and Gaussian splatting packages.</p> <p>Since I did not have access to the camera’s properties and poses, I relied on COLMAP, a free and open-source software, to estimate both. COLMAP uses structure-from-motion algorithms to reconstruct scenes from images and is widely used in navigation, robotics, computer vision, and other fields.</p> <p>However, COLMAP accepts only images as input, not videos. To convert video frames into images, I wrote a simple Python Jupyter notebook to perform this task.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="k">def</span> <span class="nf">clear_folder</span><span class="p">(</span><span class="n">folder_path</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">folder_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">folder_path</span><span class="p">):</span>
        <span class="c1"># Iterate over all files and subdirectories in the folder
</span>        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">folder_path</span><span class="p">):</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="ow">or</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">islink</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                    <span class="n">os</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>  <span class="c1"># Remove file or symbolic link
</span>                <span class="k">elif</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                    <span class="n">shutil</span><span class="p">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>  <span class="c1"># Remove directory and all its contents
</span>            <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Failed to delete </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s">. Reason: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># If folder does not exist, create it
</span>        <span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">calculate_sharpness</span><span class="p">(</span><span class="n">image</span><span class="p">):</span>
    <span class="c1"># Convert to grayscale
</span>    <span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
    <span class="c1"># Compute the Laplacian variance (higher means sharper)
</span>    <span class="n">laplacian</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">Laplacian</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">CV_64F</span><span class="p">)</span>
    <span class="n">sharpness</span> <span class="o">=</span> <span class="n">laplacian</span><span class="p">.</span><span class="n">var</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">sharpness</span>

<span class="k">def</span> <span class="nf">calculate_contrast</span><span class="p">(</span><span class="n">image</span><span class="p">):</span>
    <span class="c1"># Convert to grayscale
</span>    <span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
    <span class="c1"># Contrast as standard deviation of pixel intensities
</span>    <span class="n">contrast</span> <span class="o">=</span> <span class="n">gray</span><span class="p">.</span><span class="n">std</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">contrast</span>

<span class="k">def</span> <span class="nf">is_good_quality</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">sharpness_thresh</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span> <span class="n">contrast_thresh</span><span class="o">=</span><span class="mf">30.0</span><span class="p">):</span>
    <span class="n">sharpness</span> <span class="o">=</span> <span class="n">calculate_sharpness</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
    <span class="n">contrast</span> <span class="o">=</span> <span class="n">calculate_contrast</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
    <span class="c1"># You can print or log these values for debugging
</span>    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Sharpness: </span><span class="si">{</span><span class="n">sharpness</span><span class="si">}</span><span class="s">, Contrast: </span><span class="si">{</span><span class="n">contrast</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sharpness</span> <span class="o">&gt;=</span> <span class="n">sharpness_thresh</span> <span class="ow">and</span> <span class="n">contrast</span> <span class="o">&gt;=</span> <span class="n">contrast_thresh</span>


<span class="k">def</span> <span class="nf">get_info</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">video_path</span><span class="p">):</span>
    <span class="c1"># Open the video file
</span>    <span class="n">cap</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">source</span> <span class="p">,</span> <span class="n">video_path</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">cap</span><span class="p">.</span><span class="n">isOpened</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Error: Could not open video."</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">fps</span> <span class="o">=</span> <span class="n">cap</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="p">.</span><span class="n">CAP_PROP_FPS</span><span class="p">)</span>  <span class="c1"># Frames per second
</span>    <span class="n">total_frames</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cap</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="p">.</span><span class="n">CAP_PROP_FRAME_COUNT</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"fps "</span><span class="p">,</span> <span class="n">fps</span> <span class="p">,</span> <span class="s">' total frames '</span><span class="p">,</span> <span class="n">total_frames</span><span class="p">)</span>
    <span class="n">cap</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>
    

<span class="k">def</span> <span class="nf">extract_frames</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">video_path</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">,</span> <span class="n">interval_sec</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">interval_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="c1"># Open the video file
</span>    <span class="n">cap</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">source</span> <span class="p">,</span> <span class="n">video_path</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">cap</span><span class="p">.</span><span class="n">isOpened</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Error: Could not open video."</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># Create output directory if it doesn't exist
</span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">output_dir</span><span class="p">):</span>
        <span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"clear folder"</span><span class="p">)</span>
        <span class="n">clear_folder</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>

    <span class="n">fps</span> <span class="o">=</span> <span class="n">cap</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="p">.</span><span class="n">CAP_PROP_FPS</span><span class="p">)</span>  <span class="c1"># Frames per second
</span>    <span class="n">total_frames</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cap</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="p">.</span><span class="n">CAP_PROP_FRAME_COUNT</span><span class="p">))</span>

    <span class="n">frame_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">saved_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">ret</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">cap</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ret</span><span class="p">:</span>
            <span class="k">break</span>  <span class="c1"># End of video
</span>
        <span class="c1"># Decide whether to save this frame based on interval
</span>        <span class="n">save_frame</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">interval_sec</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># Save frame every N seconds
</span>            <span class="n">current_time_sec</span> <span class="o">=</span> <span class="n">frame_count</span> <span class="o">/</span> <span class="n">fps</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">current_time_sec</span><span class="p">)</span> <span class="o">%</span> <span class="n">interval_sec</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">save_frame</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="n">interval_frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># Save frame every N frames
</span>            <span class="k">if</span> <span class="n">frame_count</span> <span class="o">%</span> <span class="n">interval_frame</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">save_frame</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If no interval specified, save all frames
</span>            <span class="n">save_frame</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="k">if</span> <span class="n">save_frame</span><span class="p">:</span>
            <span class="c1"># Check image quality: frame should not be None or empty
</span>            <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">frame</span><span class="p">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># the measurement is not reliable, it biases towards specific contents, leaving many parts of the video un-extracted
#                 if is_good_quality(frame): 
</span>                <span class="k">if</span> <span class="n">tag</span><span class="p">:</span>
                    <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s">"img_</span><span class="si">{</span><span class="n">saved_count</span><span class="si">}</span><span class="s">_</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s">.jpg"</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s">"img_</span><span class="si">{</span><span class="n">saved_count</span><span class="si">}</span><span class="s">.jpg"</span><span class="p">)</span>

<span class="c1">#                 frame = cv2.flip(frame, 0) # no need this time to flip them upside down
</span>                <span class="n">cv2</span><span class="p">.</span><span class="n">imwrite</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>
<span class="c1">#                 print(f"Saved {filename}")
</span>                <span class="n">saved_count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">frame_count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">cap</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Extraction complete. </span><span class="si">{</span><span class="n">saved_count</span><span class="si">}</span><span class="s"> frames saved."</span><span class="p">)</span>


<span class="n">video_file</span> <span class="o">=</span> <span class="s">"VID_20250725_173235.mp4"</span>
<span class="n">SOURCE</span> <span class="o">=</span> <span class="sa">r</span><span class="s">"C:\Users\hp\tableTop\gs\3dmodeling\data"</span>


<span class="n">full_SOURCE</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">SOURCE</span><span class="p">,</span> <span class="s">"2dcarm"</span><span class="p">)</span>
<span class="n">output_folder</span> <span class="o">=</span> <span class="sa">r</span><span class="s">"C:\Users\hp\tableTop\gs\3dmodeling\data\2dcarm\extracted_frames_VID_20250725_173235_20\sequential"</span>

<span class="n">get_info</span><span class="p">(</span><span class="n">full_SOURCE</span><span class="p">,</span> <span class="n">video_file</span><span class="p">)</span>

<span class="c1"># Extract frame every 2 seconds
# extract_frames(video_file, output_folder, interval_sec=20)
</span>
<span class="c1"># Or extract every 30 frames
</span><span class="n">interval_frame</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">extract_frames</span><span class="p">(</span><span class="n">full_SOURCE</span><span class="p">,</span> <span class="n">video_file</span><span class="p">,</span> <span class="n">output_folder</span><span class="p">,</span> <span class="n">interval_frame</span><span class="o">=</span><span class="n">interval_frame</span><span class="p">)</span>

</code></pre></div></div> <p>While the video is recorded at 30 fps, meaning even a short video contains thousands of images, my laptop lacks the necessary hardware to handle the processing workload for such a large number of images, as this volume overwhelms its limits. After some experimentation, I found it acceptable to use only one out of every 15-20 frames. The downside of this sparse sampling is discussed later in the results section.</p> <p><img src="/assets/images/gaussianSplatting/extracted_video_frames.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;"> ABC </figcaption> <p>Such a simplistic approach to frame extraction relies on one key assumption: the camera moves steadily around the C-arm. I practiced several times to hold my hand steady while filming. I also learned to leave enough space around the C-arm for walking while filming and to avoid stopping at any spot for too long or too briefly.</p> <h2 id="colmap-performs-sparse-reconstruction">COLMAP performs Sparse Reconstruction</h2> <p>Step 1: Extract features from images using SIFT.</p> <p>Step 2: Estimate camera poses and properties.</p> <p><img src="/assets/images/gaussianSplatting/camera_intrinsic.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;">CAMERA INTRINSIC</figcaption> <p><img src="/assets/images/gaussianSplatting/camera_properties.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;">CAMERA PROPERTIES</figcaption> <p><img src="/assets/images/gaussianSplatting/pose_prior.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;">POSE PRIOR</figcaption> <p>Step 3: Utilize the signposts strategically placed around the C-arm.</p> <p>Step 4: Perform image pair matching using an exhaustive approach since the recording forms a loop around the C-arm.</p> <p><img src="/assets/images/gaussianSplatting/database.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;">DATABASE</figcaption> <p><img src="/assets/images/gaussianSplatting/matching.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;">MATCHING</figcaption> <p><img src="/assets/images/gaussianSplatting/match_pairs.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;">MATCH PAIRS</figcaption> <p><img src="/assets/images/gaussianSplatting/match_pairs_correspondingMatches.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;">MATCH PAIRS CORRESPONDING MATCHES</figcaption> <p>The red dots with a green straight line to denote their direction connection are numerous or abundant for all the signposts I deliberately put down on the floor next to the machine. Super helpful for matching images.</p> <p>Step 5: Conduct sparse reconstruction.</p> <p>Step 6: Note that the reconstruction quality need not be perfect—“high” quality is sufficient—and it is not necessary to use all images.</p> <p><img src="/assets/images/gaussianSplatting/reconstruction.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <p>Step 7. Review reconstruction results and errors</p> <p><img src="/assets/images/gaussianSplatting/horizontalFrame_reconstruction.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <p><img src="/assets/images/gaussianSplatting/verticalframes_reconstruction.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <p>Step 8: Export models; if distortion is present, undistort images before export. For example, if the camera were not a pinhole but a fisheye type, COLMAP can undistort fisheye images to pinhole-like images for sparse reconstruction. <img src="/assets/images/gaussianSplatting/undistorted.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <figcaption style="text-align: center;">UNDISTORTED</figcaption> <p>The reconstruction quality varies: a good reconstruction shows a red camera track that closely follows the path around the C-arm, providing a holistic view. Since no absolute ground truth exists for the smartphone camera poses, the alignment must be assessed subjectively by comparing the video filming with COLMAP’s estimates.</p> <p><img src="/assets/images/gaussianSplatting/improved_reconstruction.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <p>Conversely, a poor reconstruction is evident when the camera track breaks off, and many cameras are inaccurately clustered, pointing in wrong directions. Such misalignment indicates incorrect camera positioning, which can severely impact subsequent processing. Results of Gaussian Splatting on both good and poor reconstructions will reveal stark contrasts.</p> <p><img src="/assets/images/gaussianSplatting/Error_reconstruction.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p> <h5 id="vertical-camera-frames-vs-horizontal-camera-frames">Vertical camera frames vs horizontal camera frames</h5> <p>Experience indicates that vertical frames do not increase reprojection errors in sparse scene reconstruction, but many frames are dropped because they cannot be fitted with the rest. Conversely, horizontal frames fit more easily with similar reprojection errors and offer many more observations per image.</p> <p>However, Gaussian Splatting is quite robust. Despite slightly higher errors and fewer images fitted into the scene, the final quality remains decent, as will be discussed later. Following up next is <a href="/deep_learning/2025/08/13/GaussianSplatting_gaussianSplatting/">Gaussian Splatting - Gaussian Splatting</a></p> <h1 id="blog-posts-on-this-topics">Blog posts on this topics</h1> <ul> <li><a href="/deep_learning/2025/08/10/GaussianSplatting_introduction/">Gaussian Splatting - Introduction</a></li> <li><a href="/deep_learning/2025/08/11/GaussianSplatting_toyExample/">Gaussian Splatting - Toy Example</a></li> <li><a href="/deep_learning/2025/08/12/GaussianSplatting_camera_poses/">Gaussian Splatting - Camera Poses</a></li> <li><a href="/deep_learning/2025/08/13/GaussianSplatting_gaussianSplatting/">Gaussian Splatting - Gaussian Splatting</a></li> <li><a href="/deep_learning/2025/08/14/GaussianSplatting_meshesAndBeyond/">Gaussian Splatting - Meshes and Beyond</a></li> <li><a href="/deep_learning/2025/08/19/GaussianSplatting_failuresAndLessons/">Gaussian Splatting - Failure, Success, and Lesson Learned</a></li> </ul> </div> <div id="disqus_thread"></div> </article> <article class="card" itemscope itemtype="http://schema.org/BlogPosting"> <div class="card-body" itemprop="articleBody"> <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> <div class="card-header"> <span class="title"> <i class="fa fa-share"></i> Share this to: </span> </div> <div id="share-bar"> <div class="share-buttons"> <a href="https://www.facebook.com/sharer/sharer.php?u=/deep_learning/2025/08/12/GaussianSplatting_camera_poses/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook" > <i class="fa fa-facebook-official share-button"> facebook</i> </a> <a href="https://twitter.com/intent/tweet?text=Gaussian Splatting - Camera Poses&url=/deep_learning/2025/08/12/GaussianSplatting_camera_poses/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter" > <i class="fa fa-twitter share-button"> twitter</i> </a> <a href="https://plus.google.com/share?url=/deep_learning/2025/08/12/GaussianSplatting_camera_poses/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Google+" > <i class="fa fa-google-plus share-button"> google</i> </a> <a href="https://www.pinterest.com/pin/create/button/?url=/deep_learning/2025/08/12/GaussianSplatting_camera_poses/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Pinterest" > <i class="fa fa-pinterest-p share-button"> pinterest</i> </a> <a href="https://www.tumblr.com/share/link?url=/deep_learning/2025/08/12/GaussianSplatting_camera_poses/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Tumblr" > <i class="fa fa-tumblr share-button"> tumblr</i> </a> <a href="http://www.reddit.com/submit?url=/deep_learning/2025/08/12/GaussianSplatting_camera_poses/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" > <i class="fa fa-reddit-alien share-button"> reddit</i> </a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=/deep_learning/2025/08/12/GaussianSplatting_camera_poses/&title=Gaussian Splatting - Camera Poses&summary=&source=Wilson Fok" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn" > <i class="fa fa-linkedin share-button"> linkedin</i> </a> <a href="mailto:?subject=Gaussian Splatting - Camera Poses&amp;body=Check out this site /deep_learning/2025/08/12/GaussianSplatting_camera_poses/" title="Share via Email" > <i class="fa fa-envelope share-button"> email</i> </a> </div> </div> </div> </article> <script> var disqus_config = function () { this.page.url = "/deep_learning/2025/08/12/GaussianSplatting_camera_poses/"; /* Replace PAGE_URL with your page's canonical URL variable */ this.page.identifier = "/deep_learning/2025/08/12/GaussianSplatting_camera_poses"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */ }; (function () { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = 'https://.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript></div> </div> <!-- End of row--> <div class="row"> <div class="col-md-4"> <div class="card"> <div class="card-header"> About </div> <div class="card-body"> <!-- Your Bio --> <p class="author_bio"> Hello, My name is Wilson Fok. I love to extract useful insights and knowledge from big data. Constructive feedback and insightful comments are very welcome!</p> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Categories </div> <div class="card-body text-dark"> <div id="#Finance"></div> <li class="tag-head"> <a href="/blog/categories/Finance">Finance</a> </li> <a name="Finance"></a> <div id="#NLP"></div> <li class="tag-head"> <a href="/blog/categories/NLP">NLP</a> </li> <a name="NLP"></a> <div id="#Deep_Learning"></div> <li class="tag-head"> <a href="/blog/categories/Deep_Learning">Deep_Learning</a> </li> <a name="Deep_Learning"></a> <div id="#Others"></div> <li class="tag-head"> <a href="/blog/categories/Others">Others</a> </li> <a name="Others"></a> <div id="#Reading"></div> <li class="tag-head"> <a href="/blog/categories/Reading">Reading</a> </li> <a name="Reading"></a> <div id="#Toastmasters"></div> <li class="tag-head"> <a href="/blog/categories/Toastmasters">Toastmasters</a> </li> <a name="Toastmasters"></a> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Useful Links </div> <div class="card-body text-dark"> <li > <a href="/about">About Me</a> </li> <li > <a href="/blog">Blog</a> </li> <li > <a href="/blog/categories">Categories</a> </li> <li > <a href="/gallery">Gallery</a> </li> <li > <a href="/contact">Contact Me</a> </li> </div> </div> </div> </div> </div> <footer> <p> Powered by Jekyll. Hosted on <a href="https://pages.github.com">Github</a>. Subscribe via <a href=" /feed.xml ">RSS <i class="fa fa-rss" aria-hidden="true"></i> </a> </p> </footer> </div> <script> var options = { classname: 'my-class', id: 'my-id' }; var nanobar = new Nanobar( options ); nanobar.go( 30 ); nanobar.go( 76 ); nanobar.go(100); </script> <!-- <div hidden id="snipcart" data-api-key="Y2I1NTAyNWYtMTNkMy00ODg0LWE4NDItNTZhYzUxNzJkZTI5NjM3MDI4NTUzNzYyMjQ4NzU0"></div> <script src="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.js" defer></script> --> <script src="/assets/js/mode-switcher.js"></script> <script src="/assets/js/slideshow.js"></script> </body> </html>
